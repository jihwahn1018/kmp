/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.4/samples
 */
plugins {
    id 'application'
    id 'maven-publish'
}

group 'com.tmax'

def buildVersion = project.findProperty("buildVersion") ?: "0.0.1"
def user = project.findProperty("repoUser") ?: "root"
def passwd = project.findProperty("repoPassword") ?: "tmax@23"
def slf4jVersion = '1.7.32'
def log4jVersion = '2.16.0'

version "${buildVersion}"
archivesBaseName = 'KubernetesApiService'
project.buildDir = './bin'

java {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}


application {
    mainClass = 'com.tmax.supervm.Version'
}

repositories {
    maven {        
        url "http://192.168.9.12:8081/repository/maven-releases"
        allowInsecureProtocol true
    }
    mavenCentral()
}

dependencies {
    implementation 'com.tmax:super-app-server:0.0.7'
    implementation 'io.netty:netty-all:4.1.78.Final'
    implementation group: 'org.slf4j', name: 'slf4j-api', version: "${slf4jVersion}"
    implementation group: 'org.slf4j', name: 'log4j-over-slf4j', version: "${slf4jVersion}"
    implementation group: 'com.google.code.gson', name: 'gson', version: '2.9.0'
    implementation group: 'org.apache.commons', name: 'commons-dbcp2', version: '2.9.0'
    implementation 'io.kubernetes:client-java:16.0.0'
    implementation 'org.json:json:20220924'
}

jar {
    manifest {
        attributes 'Specification-Title': 'KMP Service'
        attributes 'Specification-Version': '0.0.1'
        attributes 'Specification-Vendor': 'TmaxCloud Inc.'
        attributes 'Implementation-Title': 'com.tmax.supervm'
        attributes 'Implementation-Version': 'build1'
        attributes 'Implementation-Vendor': 'TmaxCloud Inc.'
    }
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
}
